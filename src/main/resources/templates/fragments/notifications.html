<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
	<div th:fragment="notifications">
		<!-- *
			 * @author Novislav Sekulic
			 * scripts for showing notifications
			 *
			 * -->
		<script type="text/javascript" th:inline="javascript">
			/*<![CDATA[*/
			    $( document ).ready(function() {
			    	
					if(isParamPresent("error")){
						
			    		var message = /*[[#{login.error.message}]]*/ 'message';
			    		var color = 'danger';
			    		var icon = 'glyphicon glyphicon-warning-sign';
			    		showNotification(message, color, icon);
			    		
			        } else if(isParamPresent("logout")){
			        	
			        	var message = /*[[#{logout.success.message}]]*/ 'Logout message';
			        	var color = 'success';
			        	var icon = 'glyphicon glyphicon-ok';
			        	showNotification(message, color, icon);
			        	
			        } else if(isParamPresent("lang")){
			        	
			        	var message = /*[[#{language.local.change}]]*/ 'Language cahange';
			        	var color = 'success';
			        	var icon = 'glyphicon glyphicon-ok';
			        	showNotification(message, color, icon);
			        } else if(isParamPresent("register")) {
			        	var message = /*[[#{register.success.message}]]*/ 'Register message';
			        	var color = 'success';
			        	var icon = 'glyphicon glyphicon-ok';
			        	showNotification(message, color, icon); 
			        } else if(isParamPresent("ticket-added")) {
			        	var message = /*[[#{modal.ticket.created}]]*/ 'Ticket Created';
			        	var color = 'success';
			        	var icon = 'glyphicon glyphicon-ok';
			        	showNotification(message, color, icon); 
			        } else if(isParamPresent("adminreg")) {
			        	var message = /*[[#{register.success.message.admin}]]*/ 'Ticket Created';
			        	var color = 'success';
			        	var icon = 'glyphicon glyphicon-ok';
			        	showNotification(message, color, icon); 
			        } else if(isParamPresent("ticket-deleted")) {
			        	var message = /*[[#{confirm.delete.message}]]*/ 'Ticket deleted!';
			        	var color = 'success';
			        	var icon = 'glyphicon glyphicon-ok';
			        	showNotification(message, color, icon);
			        } else if(isParamPresent("ticket-edited")) {
			        	var message = /*[[#{modal.ticket.edited}]]*/ 'Ticket edited!';
			        	var color = 'success';
			        	var icon = 'glyphicon glyphicon-ok';
			        	showNotification(message, color, icon);
			        }
			    	
				}); // end ready
			    
			    function isParamPresent(urlParam) {
				    var urlVariables = window.location.search;
			        return urlVariables.indexOf("?" + urlParam) >= 0;
			    }
				
				function showNotification(messageText, typeColor, icon) {
					$.notify({
		    			// options
		    			icon: icon,
		    			message: messageText,
		    			target: '_blank'
		    		},{
		    			// settings
		    			element: 'body',
		    			type: typeColor,
		    			allow_dismiss: true,
		    			newest_on_top: true,
		    			placement: {
		    				from: "top",
		    				align: "center"
		    			},
		    			offset: 20,
		    			spacing: 10,
		    			z_index: 1000000,
		    			delay: 3000,
		    			timer: 1000,
		    			animate: {
		    				enter: 'animated fadeInDown',
		    				exit: 'animated fadeOutUp'
		    			}
		    		}); // end notify
				}
			/*]]>*/
		</script>

	</div>
</body>
</html>